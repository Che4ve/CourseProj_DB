# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

> ‚úÖ **Supabase —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ `.env.local` –≥–æ—Ç–æ–≤—ã. –ú–æ–∂–Ω–æ —Å—Ä–∞–∑—É –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

## –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ (–µ—Å–ª–∏ Supabase –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

```bash
npm install
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ [http://localhost:3000](http://localhost:3000) –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å!

---

## –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–Ω–æ–≤–æ)

### 1.1 –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [supabase.com](https://supabase.com)
2. –ù–∞–∂–º–∏—Ç–µ "New Project"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø–∞—Ä–æ–ª—å –ë–î
4. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (~2 –º–∏–Ω—É—Ç—ã)

### 1.2 –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á–∏
1. –í dashboard –ø—Ä–æ–µ–∫—Ç–∞ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **API**
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - **Project URL** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://xxxxx.supabase.co`)
   - **anon public** –∫–ª—é—á

### 1.3 –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor**
2. –ù–∞–∂–º–∏—Ç–µ "New Query"
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `supabase-setup.sql`
4. –í—Å—Ç–∞–≤—å—Ç–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä –∏ –Ω–∞–∂–º–∏—Ç–µ "Run"

### 1.4 –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Auth Redirect URL
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Authentication** ‚Üí **URL Configuration**
2. –í **Redirect URLs** –¥–æ–±–∞–≤—å—Ç–µ:
   - `http://localhost:3000/api/auth/callback`

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### 2.1 –°–æ–∑–¥–∞–π—Ç–µ .env.local
```bash
cp env.example .env.local
```

### 2.2 –í—Å—Ç–∞–≤—å—Ç–µ –∫–ª—é—á–∏ –≤ .env.local
```env
NEXT_PUBLIC_SUPABASE_URL=https://xxxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=–≤–∞—à_anon_–∫–ª—é—á
```

## –®–∞–≥ 3: –ó–∞–ø—É—Å–∫

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
npm install

# –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: [http://localhost:3000](http://localhost:3000)

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**: –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç —Å –ª—é–±—ã–º email (test@example.com) –∏ –ø–∞—Ä–æ–ª–µ–º (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)
2. **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏**: –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–≤—ã—á–∫—É" ‚Üí –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø
3. **–¢—Ä–µ–∫–∏–Ω–≥**: –ù–∞ –∫–∞—Ä—Ç–æ—á–∫–µ –ø—Ä–∏–≤—ã—á–∫–∏ –Ω–∞–∂–º–∏—Ç–µ "–¢—Ä–µ–∫–∏–Ω–≥" ‚Üí –æ—Ç–º–µ—Ç—å—Ç–µ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –¥–µ–Ω—å
4. **–°—Ç—Ä–∏–∫**: –ù–∞ –∫–∞—Ä—Ç–æ—á–∫–µ –ø–æ—è–≤–∏—Ç—Å—è üî• 1 –¥–µ–Ω—å

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npm test

# –õ–∏–Ω—Ç–∏–Ω–≥
npm run lint

# –°–±–æ—Ä–∫–∞
npm run build
```

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### "Invalid API key"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ `anon public` –∫–ª—é—á, –∞ –Ω–µ `service_role`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env.local` –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤

### "Relation habits does not exist"
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç –∏–∑ `supabase-setup.sql` –≤ SQL Editor

### Middleware —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ /login
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! –°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
- –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤–∞—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

```
habits
‚îú‚îÄ‚îÄ id (uuid, PK)
‚îú‚îÄ‚îÄ user_id (uuid, FK ‚Üí auth.users)
‚îú‚îÄ‚îÄ name (text)
‚îú‚îÄ‚îÄ type (text: 'good' | 'bad')
‚îî‚îÄ‚îÄ created_at (timestamptz)

habit_completions
‚îú‚îÄ‚îÄ id (uuid, PK)
‚îú‚îÄ‚îÄ habit_id (uuid, FK ‚Üí habits)
‚îî‚îÄ‚îÄ completed_at (date)
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `README.md`
- SQL —Å–∫—Ä–∏–ø—Ç: `supabase-setup.sql`
- GitLab CI: `.gitlab-ci.yml`

